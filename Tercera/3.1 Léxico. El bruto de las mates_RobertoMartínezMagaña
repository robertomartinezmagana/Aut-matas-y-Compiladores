%{
#include <stdio.h>
#include <string.h>

int lineas = 0;
int palabras = 0;
int caracteres = 0;
int ni_palabras = 0;
int num_palabras = 0;
int b_to_palabras = 0;
int jo_palabras = 0;
int digitos = 0;
%}

%%
\n { lineas++; caracteres++; }
[ \t]+ { caracteres += yyleng; }
[0-9]+ { digitos++; palabras++; caracteres += yyleng; }
"ni"[a-zA-Záéíóúñ]* { ni_palabras++; palabras++; caracteres += yyleng; }
"núm"[a-zA-Záéíóúñ]* { num_palabras++; palabras++; caracteres += yyleng; }
"b"[a-zA-Záéíóúñ]*"to" { b_to_palabras++; palabras++; caracteres += yyleng; }
[a-zA-Záéíóúñ]+"jo" { jo_palabras++; palabras++; caracteres += yyleng; }
[a-zA-Záéíóúñ]+ { palabras++; caracteres += yyleng; }
. { caracteres++; }
%%

int main() {
    printf("\n--- Analizador de Texto ---\n");
    printf("Pega tu texto y presiona Ctrl+D (Linux/Mac) o Ctrl+Z (Windows) para finalizar:\n\n");
    
    yylex();  // Procesa la entrada
    
    printf("\n--- Resultados ---\n");
    printf("Total de líneas: %d\n", lineas);
    printf("Total de palabras: %d\n", palabras);
    printf("Total de caracteres: %d\n", caracteres);
    printf("\nPalabras que:\n");
    printf("- Inician con 'ni': %d\n", ni_palabras);
    printf("- Inician con 'núm': %d\n", num_palabras);
    printf("- Inician con 'b' y terminan con 'to': %d\n", b_to_palabras);
    printf("- Terminan con 'jo': %d\n", jo_palabras);
    printf("- Son dígitos: %d\n", digitos);
    
    return 0;
}

int yywrap() {
    return 1;
}